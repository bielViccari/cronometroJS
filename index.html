<html>
  <head>
    <title>Projeto Cronometro - JavaScript</title>

    <style>
      .container {
        text-align: center;
      }
      button {
        background-color: blue;
        color: cornsilk;
        font-size: 32px;
        padding: 8px 20px;
        border: 0;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <audio id="sound" style="display: none" src="audio.wav"></audio>

    <div class="container">
      <h2>minutos</h2>
      <select name="minutos" id="minutos"></select>

      <h2>segundos</h2>
      <select name="segundos" id="segundos"></select>
      <br />
      <br />
      <button id="comecar">iniciar!</button>
      <div class="display">
        <h3></h3>
      </div>
      <!--display-->
    </div>
    <!--container-->

    <script>
      var display = document.getElementById('display')

      var minutos = document.getElementById('minutos')

      var segundos = document.getElementById('segundos')

      var comecar = document.getElementById('comecar')

      var cronometroSeg
      var minutoAtual
      var segundoAtual
      var interval

      for (var i = 0; i <= 60; i++) {
        minutos.innerHTML += '<option value="' + i + '">' + i + '</option>'
      }

      for (var i = 0; i <= 60; i++) {
        segundos.innerHTML += '<option value="' + i + '">' + i + '</option>'
      }

      comecar.addEventListener('click', function () {
        minutoAtual = minutos.value
        segundoAtual = segundos.value

        display.childNodes[1].innerHTML = minutoAtual + ':' + segundoAtual

        interval = setInterval(function () {
          segundoAtual--
          if (segundoAtual <= 0) {
            if (minutoAtual > 0) {
              minutoAtual--
              segundoAtual = 59
            } else {
              alert('acabou!')
              document.getElementById('sound').play()
              clearInterval(interval)
            }
          }
          display.childNodes[1].innerHTML = minutoAtual + ':' + segundoAtual
        }, 1000)
      })
    </script>
  </body>
</html>
